name: "CI"

# CI ( 지속적 통합 )
on:
  workflow_dispatch:    # Github Action에서 수동으로 워크플로우 실행 가능
  push:
    branches: [ master ]

jobs:
  info:
    name: 작업 정보
    runs-on: ubuntu-latest
    steps:
        - name: 작업 정보
          run: |
            echo "🎉🎉🎉🎉🎉🎉🎉"
            echo "repo : ${{ github.repository }}"
            echo "branch : ${{ github.ref }}"
            echo "event : << ${{ github.event_name }} >>"

#  build:
#    name: Build Test
#    runs-on: ubuntu-latest
#    steps:
#      - uses: actions/checkout@v1
#      - name: Setup JDK1.8
#        uses: actions/setup-java@v1
#        with:
#          java-version: 1.8
#      - name: Setup JDK11
#        uses: actions/setup-java@v1
#        with:
#          java-version: 11
#      - name: Build..
#        run: ./gradlew build
#      - name: Done..
#        run: echo "실행 종료 ( ${{ job.status }} )"

  apk:
    name: Generate APK
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v1
      - name: Setup JDK1.8
        uses: actions/setup-java@v1
        with:
          java-version: 1.8
      - name: Setup JDK11
        uses: actions/setup-java@v1
        with:
          java-version: 11
      - name: Build debug APK
        run: bash ./gradlew assembleDebug --stackrace
      - name: upload APK
        uses: actions/upload-artifact@v1
        with:
          name: app_
          path: app/outputs/debug




